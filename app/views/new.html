<div flex-offset="5" flex="70" ng-controller="NewCtrl" ng-cloak class="md-inline-form">

  <md-content layout-padding>
    <div>
      <form name="userForm">
        <md-switch class="md-accent" ng-model="save" aria-label="Save for public browsing">
          Save for public browsing
        </md-switch>

        <md-input-container class="md-block">
          <label>Title</label>
          <input required ng-model="record.title">
        </md-input-container>

        <md-input-container class="md-block">
          <label>Odds</label>
          <input required ng-model="record.odds" placeholder="e.g. 1:100 or 0.5" 
          ng-pattern="/(^0\.[0-9]+$)|(^[0-9]+:[0-9]+$)/">
        </md-input-container>

        <md-input-container class="md-block">
          <label>Citation</label>
          <input ng-model="record.citation">
        </md-input-container>

        <md-input-container class="md-block">
          <label>Category</label>
          <md-select required ng-model="record.category">
            <md-option ng-repeat="category in categories" ng-value="category">
              {{category}}
            </md-option>
          </md-select>
        </md-input-container>
        
        <div layout="row">

          <md-input-container flex="25">
            <label>Category</label>
            <md-select ng-model="imgParams.shape">
              <md-option ng-repeat="shape in shapes" ng-value="shape">
                {{ shape }}
              </md-option>
            </md-select>
          </md-input-container>

          <md-input-container flex="25">
            <label>Unhighlighted Color</label>
            <input ng-model="imgParams.color1" placeholder="black">
          </md-input-container>

          <md-input-container flex="25">
            <label>Highlight Color</label>
            <input ng-model="imgParams.color2" placeholder="red">
          </md-input-container>

          <md-input-container flex="25">
            <label>Index</label>
            <input type="number" step="0.1" name="index" ng-model="imgParams.index" min="0"
               max="0.99" ng-pattern="/^0\.[0-9]+$/" />
          </md-input-container>

          <md-input-container flex="25">
            <label>Image Type</label>
            <md-select ng-model="imgParams.type">
              <md-option ng-repeat="type in types" ng-value="type">
                {{ type }}
              </md-option>
            </md-select>
          </md-input-container>

        </div>

        <div layout="row">

          <md-input-container flex="50">
            <label>Optional: Number units wide</label>
            <input type="number" step="1" name="num_wide" ng-model="imgParams.num_wide" min="1" ng-pattern="/^[0-9]+$/" />
          </md-input-container>

          <md-input-container flex="50">
            <label>Optional: Image width (in pixels)</label>
            <input type="number" step="1" name="w" ng-model="imgParams.w" min="1" ng-pattern="/^[0-9]+$/" />
          </md-input-container>

        </div>
        <md-button ng-click="submit()" class="md-raised md-primary md-hue-1" ng-show="!loading">
          Create Image
        </md-button>
        <md-progress-circular md-mode="indeterminate" ng-show="loading"></md-progress-circular>
        
      </form>
    </div>
  </md-content>

</div>